import{a as e,f as t}from"./p-71c2b309.js";const n=e=>!("isConnected"in e)||e.isConnected,i=(()=>{let e;return(...t)=>{e&&clearTimeout(e),e=setTimeout((()=>{e=0,(e=>{for(let t of e.keys())e.set(t,e.get(t).filter(n))})(...t)}),2e3)}})(),s=(n,s)=>{const a=((e,t=((e,t)=>e!==t))=>{let n=new Map(Object.entries(null!=e?e:{}));const i={dispose:[],get:[],set:[],reset:[]},s=()=>{n=new Map(Object.entries(null!=e?e:{})),i.reset.forEach((e=>e()))},a=e=>(i.get.forEach((t=>t(e))),n.get(e)),r=(e,s)=>{const a=n.get(e);t(s,a,e)&&(n.set(e,s),i.set.forEach((t=>t(e,s,a))))},o="undefined"==typeof Proxy?{}:new Proxy(e,{get:(e,t)=>a(t),ownKeys:()=>Array.from(n.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>n.has(t),set:(e,t,n)=>(r(t,n),!0)}),u=(e,t)=>(i[e].push(t),()=>{((e,t)=>{const n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.length--)})(i[e],t)});return{state:o,get:a,set:r,on:u,onChange:(t,n)=>{const i=u("set",((e,i)=>{e===t&&n(i)})),s=u("reset",(()=>n(e[t])));return()=>{i(),s()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(u("set",t.set)),t.get&&e.push(u("get",t.get)),t.reset&&e.push(u("reset",t.reset)),t.dispose&&e.push(u("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{i.dispose.forEach((e=>e())),s()},reset:s,forceUpdate:e=>{const t=n.get(e);i.set.forEach((n=>n(e,t,t)))}}})(n,s);return a.use((()=>{if("function"!=typeof e)return{};const n=new Map;return{dispose:()=>n.clear(),get:t=>{const i=e();i&&((e,t,n)=>{const i=e.get(t);i?i.includes(n)||i.push(n):e.set(t,[n])})(n,t,i)},set:e=>{const s=n.get(e);s&&n.set(e,s.filter(t)),i(n)},reset:()=>{n.forEach((e=>e.forEach(t))),i(n)}}})()),a};var a,r=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,s,a;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(s=i;0!=s--;)if(!e(t[s],n[s]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(s of t.entries())if(!n.has(s[0]))return!1;for(s of t.entries())if(!e(s[1],n.get(s[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(s of t.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((i=t.length)!=n.length)return!1;for(s=i;0!=s--;)if(t[s]!==n[s])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=i;0!=s--;)if(!Object.prototype.hasOwnProperty.call(n,a[s]))return!1;for(s=i;0!=s--;){var r=a[s];if(!e(t[r],n[r]))return!1}return!0}return t!=t&&n!=n};function o(){var e,t,n,i,s;/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)||(null===(s=null===(i=null===(n=null===(t=null===(e=null===document||void 0===document?void 0:document.querySelector("streamline-container"))||void 0===e?void 0:e.shadowRoot)||void 0===t?void 0:t.querySelector("streamline-search"))||void 0===n?void 0:n.shadowRoot)||void 0===i?void 0:i.querySelector("input"))||void 0===s||s.focus(),l.isSearchFocus=!0,l.focusIndex=-1)}const u=null===(a=document.querySelector("streamline-container"))||void 0===a?void 0:a.hasAttribute("test"),{state:l,onChange:c}=s({class:{tag:"px-2.5 py-1.5 bg-slate-200 text-slate-500 inline-block h-[max-content] leading-1"},commands:{local:{}},currentSite:{id:window.streamlineData.siteId,path:window.streamlineData.sitePath},data:window.streamlineData,drawer:{active:!1,items:[],onSave:null,postType:"",postId:0,status:"",title:"",values:{}},entriesEditing:{},entriesFav:JSON.parse(window.streamlineData.favourites),entriesFavActive:JSON.parse(window.streamlineData.favourites),entriesMenu:[],entriesMenuActive:[],entriesMenuCurrentPath:"",entriesNetworkMenu:[],entriesNetworkMenuActive:[],entriesPost:[],entriesPostActive:[],entriesPostIsQuery:!1,entriesPostCurrentPath:"",entriesSettings:[{children:[{children:[{id:"keyNavigation",name:"Entry navigation",nameParent:"Key shortcuts",label:"Navigate between entry items",metaKey:!1,keys:["↑","↓"]},{id:"keyNavigationTabs",name:"Tab navigation",nameParent:"Key shortcuts",label:"Navigate between top-level tab items",metaKey:!0,keys:["↑","↓"]},{id:"keySearch",name:"Focus search",nameParent:"Key shortcuts",label:"Focus the search bar",metaKey:!0,keys:["s"]},{id:"keyExit",name:"Close",nameParent:"Key shortcuts",label:"Exit the app",metaKey:!1,keys:["esc"]}],name:"Key shortcuts"},{children:[{id:"behaviourDefaultTab",name:"Default tab",nameParent:"Behaviour",label:"Which tab should be opened by default when opening app",choices:{last:"Last",site:"Site",networkMenu:"Network",fav:"Faves",menu:"Menu",post:"Post",settings:"Settings"}}],name:"Behaviour"},{children:[{id:"searchResetInput",name:"Reset search",nameParent:"Searchbar",label:"Resets search value after switching tabs"},{id:"searchFocus",name:"Always focus",nameParent:"Searchbar",label:"Focus searchbar after switching tabs"}],name:"Searchbar"},{children:[{id:"appearanceBlur",name:"Enable background blur",nameParent:"Appearance",label:"Enabling the overlay blur can decrease performance on slower machines"}],name:"Appearance"}],type:"settings"}],entriesSettingsActive:[],entriesSettingsLoad:{keyNavigation:{default:!0},keyNavigationTabs:{default:!0},keySearch:{default:!0},keyExit:{default:!0},behaviourDefaultTab:{default:"last"},searchResetInput:{default:!0},searchFocus:{default:!0},appearanceBlur:{default:!1}},entriesSettingsSave:{},entriesSettingsHaveChanged:!1,entriesSite:[],entriesSiteActive:[],entriesSiteIsQuery:!1,historySearchesSite:JSON.parse(window.streamlineData.historySearchesSite).reverse(),historySearchesPost:JSON.parse(window.streamlineData.historySearchesPost).reverse(),isEnter:!1,isHelp:!1,isLoading:!1,isMac:!1,isProcessing:!1,isSearch:!0,isSearchFocus:!0,isSlash:!1,focusIndex:-1,menus:["site","networkMenu","fav","menu","post","settings"],menu:{site:{name:"site",condition:window.streamlineData.network&&!u,text:"Site",help:"\n      <p>Streamline works with single sites and multisite networks. Since you are able to view this text, it means that you are currently on a multisite.</p>\n      <p>This tab can be used to search for a specific subsite in the network and use Streamline as the selected site.</p>\n      <p>After searching and selecting a site, the <strong>menu</strong> tab will show the admin menu of the chosen site, while the <strong>post</strong> tab makes it possible to search for posts of the respective subsite.</p>\n      "},networkMenu:{name:"networkMenu",condition:window.streamlineData.network&&!u,text:"Network",help:"\n      <p>Streamline works with single sites and multisite networks. Since you are able to view this text, it means that you are currently on a multisite.</p>\n      <p>The network tab shows you all the available menu items from the network admin screen. Clicking any of the links will redirect to the respective page.</p>\n      "},fav:{name:"fav",condition:!0,text:"Faves",help:"\n      <p>All individual menu items and posts can be favourited for easier access.</p>\n      <p>This mode lists all of your currently favourites in unified list.</p>\n      "},menu:{name:"menu",condition:!0,text:"Menu",help:"\n      <p>The menu tab shows you all the available menu items from the admin screen. Clicking any of the links will redirect to the respective page.</p>\n      "},post:{name:"post",condition:!0,text:"Post",help:"\n      <p>Posts are an essential part of WordPress and the posts tab allows you to search for any posts on your site.</p>\n      "},settings:{name:"settings",condition:!0,text:"Settings",help:"\n      <p>The settings tab allows you to make Streamline your own by customising certain nuances to your liking.</p>\n      "}},scroll:0,searchNoValue:"No entries found",searchPlaceholder:"",searchValue:"",test:u,testFull:!1,visible:!1});c("drawer",(()=>{!function(){var e,t,n,i,s;null===(s=null===(i=null===(n=null===(t=null===(e=null===document||void 0===document?void 0:document.querySelector("streamline-container"))||void 0===e?void 0:e.shadowRoot)||void 0===t?void 0:t.querySelector("streamline-search"))||void 0===n?void 0:n.shadowRoot)||void 0===i?void 0:i.querySelector("input"))||void 0===s||s.blur()}()})),c("entriesSettingsSave",(e=>{l.entriesSettingsHaveChanged=!r(e,l.entriesSettingsLoad)})),c("entriesSettingsLoad",(e=>{l.entriesSettingsHaveChanged=!r(e,l.entriesSettingsSave)})),c("searchValue",(e=>{""===e&&(l.focusIndex=-1)})),c("visible",(e=>{var t,n,i,s;(null===(s=null===(i=null===(n=null===(t=null===document||void 0===document?void 0:document.querySelector("streamline-container"))||void 0===t?void 0:t.shadowRoot)||void 0===n?void 0:n.querySelector("streamline-entries"))||void 0===i?void 0:i.shadowRoot)||void 0===s?void 0:s.querySelector("div > div"))&&(!0===e?(l.scroll=window.scrollY,document.body.style.position="fixed",document.body.style.overflow="hidden",document.body.style.left="0",document.body.style.top="0"):(document.body.style.removeProperty("position"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("left"),document.body.style.removeProperty("top"),window.scroll(0,l.scroll))),!0===e&&(setTimeout((()=>{o()}),20),setTimeout((()=>{o()}),50),setTimeout((()=>{o()}),100))}));export{s as c,o as f,c as o,l as s}