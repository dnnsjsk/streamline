import{s as e,a as n}from"./p-f4b0e495.js";import{s as t,f as m}from"./p-9eeec7e6.js";function a(a={}){let r=[];const i={},o=document.querySelector("#adminmenuwrap")&&!a.adminUrl,s=a.adminUrl||e.data.adminUrl,c=a.siteId||e.data.siteId;function u(n){n.querySelectorAll(".menu-top > a").forEach(((n,t)=>{const m=n.innerText.replace(/(\r\n|\n|\r)/gm,""),a=n.closest("li.menu-top"),r={};if(a){const n=a.querySelectorAll("a");n.forEach(((t,a)=>{if(0!==a&&n.length>=2||0===a&&1===n.length){const i=t.innerText.replace(/(\r\n|\n|\r)/gm,""),o=t.getAttribute("href");r[o]={adminUrl:s,href:e.data.adminUrl+o,index:1===n.length?a:a-1,name:i,nameParent:m,path:o,siteId:Number(c),type:"menu"}}}))}i[m]={index:t,name:m,children:r}})),r=[{adminUrl:s,children:i,name:a.site||e.data.isMultisite?`Navigate to (site: ${a.site||e.data.path})`:"Navigate to",siteId:Number(c),type:"menu"}],e.entriesMenu=r,e.entriesMenuActive=r,t()}o?u(document):(e.isLoading=!0,fetch(a.adminUrl||e.data.adminUrl).then((e=>e.text())).then((a=>{u((new DOMParser).parseFromString(a,"text/html")),e.isSites=!1,e.isLoading=!1,e.isSlash=!1,e.isEnter=!1,e.searchValue="",t(),m(),n.active="menu"})))}export{a as g}