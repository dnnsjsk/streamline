(()=>{function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,l=[],r=!0,c=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);r=!0);}catch(e){c=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var n=wp.components,a=n.PanelBody,i=(n.PanelRow,n.BaseControl,n.Button),l=n.TextControl,r=n.Spinner,c=wp.element,o=c.render,u=c.Fragment,s=c.useState,m=c.useEffect;document.getElementById("fabrikat-plugin")&&o(wp.element.createElement((function(){var t=e(s(null),2),n=t[0],c=t[1],o=e(s(!1),2),p=o[0],d=o[1],f=e(s(!1),2),b=f[0],g=f[1],w=e(s(!1),2),y=w[0],v=w[1];return m((function(){"valid"===fabrikatPlugin.licenseStatus&&fabrikatPlugin.licenseCode&&(d(!0),c(fabrikatPlugin.licenseCode)),setTimeout((function(){document.body.classList.add("fabrikat-plugin-loaded")}))}),[]),wp.element.createElement(u,null,wp.element.createElement("div",{class:"fabrikat-plugin".concat(p?"--active":"")},wp.element.createElement("div",{className:"fabrikat-plugin__header"},wp.element.createElement("img",{className:"fabrikat-plugin__header-img",src:"".concat(window.fabrikatPlugin.pluginUrl,"includes/admin/assets/fabrikatLogo.svg")})),wp.element.createElement("div",{className:"fabrikat-plugin__content"},wp.element.createElement(a,{title:"License"},p?wp.element.createElement(l,{type:"password",value:n}):wp.element.createElement(l,{type:"text",placeholder:"Your license key",onChange:function(e){return c(e)}}),wp.element.createElement("div",{class:"fabrikat-plugin__button-wrap"},wp.element.createElement("div",{className:"fabrikat-plugin__button"},wp.element.createElement(i,{onClick:function(){!function(e,t){g(!0),fetch(fabrikatAdmin.ajax,{method:"POST",credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:"action=fabrikatAdminQuery&type=".concat(e,"&license=").concat(t,"&nonce=").concat(fabrikatAdmin.nonce)}).then((function(e){return e.json()})).then((function(e){e.success&&"valid"===e.license?(d(!0),c(t),v(!1)):"invalid"===e.license?(d(!1),c(""),v(!0)):(document.querySelector(".fabrikat-plugin__content input").value="",d(!1),c(""),v(!1)),g(!1)}))}(p?"deactivate_license":"activate_license",n)},isPrimary:!0},p?"Deactivate license":"Save"),b&&wp.element.createElement(r,null)),p&&!y&&wp.element.createElement("span",{class:"fabrikat-plugin__license-notice"},"License activated"),!p&&y&&wp.element.createElement("span",{className:"fabrikat-plugin__license-notice fabrikat-plugin__license-notice--invalid"},"License invalid"))))))}),null),document.getElementById("fabrikat-plugin"))})();