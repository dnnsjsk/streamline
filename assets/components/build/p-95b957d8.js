import{a as t,r as e,b as n,s as o,I as r}from"./p-ab4c0365.js";import{h as i}from"./p-2323105f.js";function a(o={}){let r=[];const i={},a=document.querySelector("#adminmenuwrap")&&(o.network&&t.data.isNetwork||!o.network&&t.data.isAdmin&&!t.data.isNetwork),s=o.network,u=!!t.data.network,c=o.adminUrl||(s?t.data.network:t.data.adminUrl),p=o.siteId||(s?0:t.data.siteId),l=!o.path&&s?"networkMenu":"menu";function m(e){e.querySelectorAll(".menu-top > a").forEach(((t,e)=>{const n=t.innerText.replace(/(\r\n|\n|\r)/gm,""),o=t.closest("li.menu-top"),r={};if(o){const t=o.querySelectorAll("a");t.forEach(((e,o)=>{var i;if(0!==o&&t.length>=2||0===o&&1===t.length){const a=null===(i=[...e.childNodes].find((t=>t.nodeType===Node.TEXT_NODE)))||void 0===i?void 0:i.textContent.trim(),s=e.querySelector(".update-count")?a+` (${e.querySelector(".update-count").innerHTML})`:e.innerText.replace(/(\r\n|\n|\r)/gm,""),u=e.getAttribute("href");r[u]={adminUrl:c,href:c+u,index:1===t.length?o:o-1,name:s,nameParent:n,path:u,siteId:Number(p),type:l}}}))}i[n]={index:e,name:n,children:r}})),r=[{adminUrl:c,children:i,isMultisite:u,path:o.path||t.currentSite.path,siteId:Number(p),type:l}],s?(t.entriesNetwork=r,t.entriesNetworkActive=r):(t.entriesMenu=r,t.entriesMenuActive=r,t.entriesMenuCurrentPath=o.path||t.currentSite.path),n()}a&&!o.fetch?m(document):(t.isLoading=!0,fetch(c).then((t=>t.text&&t.text())).then((t=>{m((new DOMParser).parseFromString(t,"text/html")),e()})).catch((()=>{})))}function s(){"menu"===o.active&&0===t.entriesMenu.length&&a({network:!1,adminUrl:t.data.adminUrl}),"network"===o.active&&0===t.entriesNetwork.length&&a({network:!0})}function u(e){return t.isMac?e.metaKey:e.ctrlKey}function c(t){var e;return i("button",{class:`focus-white opacity-0 flex h-full items-center justify-center group hover:opacity-100 focus:opacity-100 focus-within:opacity-100 hover:text-blue-500 focus:text-blue-500 focus-within:text-blue-500 hover:z-50 ${null!==(e=t.classOuter)&&void 0!==e?e:""}`},i(r,null),i("div",{class:"border border-slate-200 shadow-sm absolute transform bottom-0 right-0 translate-y-[calc(100%-1px)] opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto focus-within:opacity-100 focus-within:pointer-events-auto"},t.items.map((t=>i("button",{onMouseDown:t=>t.preventDefault(),class:"bg-white focus px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-900 hover:text-blue-500",onClick:()=>{t.onClick()}},t.text)))))}export{c as D,u as a,a as b,s as g}