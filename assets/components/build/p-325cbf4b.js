import{a as t,r as e,b as n,s as o,I as r}from"./p-121838d7.js";import{h as i}from"./p-2323105f.js";function u(o={}){let r=[];const i={},u=document.querySelector("#adminmenuwrap")&&(o.network&&t.data.isNetwork||!o.network&&t.data.isAdmin&&!t.data.isNetwork),a=o.network,s=!!t.data.network,c=o.adminUrl||(a?t.data.network:t.data.adminUrl),l=o.siteId||(a?0:t.data.siteId),p=!o.path&&a?"networkMenu":"menu";function m(e){e.querySelectorAll(".menu-top > a").forEach(((t,e)=>{const n=t.innerText.replace(/(\r\n|\n|\r)/gm,""),o=t.closest("li.menu-top"),r={};if(o){const t=o.querySelectorAll("a");t.forEach(((e,o)=>{var i;if(0!==o&&t.length>=2||0===o&&1===t.length){const u=null===(i=[...e.childNodes].find((t=>t.nodeType===Node.TEXT_NODE)))||void 0===i?void 0:i.textContent.trim(),a=e.querySelector(".update-count")?u+` (${e.querySelector(".update-count").innerHTML})`:e.innerText.replace(/(\r\n|\n|\r)/gm,""),s=e.getAttribute("href");r[s]={adminUrl:c,href:c+s,index:1===t.length?o:o-1,name:a,nameParent:n,path:s,siteId:Number(l),type:p}}}))}i[n]={index:e,name:n,children:r}})),r=[{adminUrl:c,children:i,isMultisite:s,path:o.path||t.currentSite.path,siteId:Number(l),type:p}],a?(t.entriesNetworkMenu=r,t.entriesNetworkMenuActive=r):(t.entriesMenu=r,t.entriesMenuActive=r,t.entriesMenuCurrentPath=o.path||t.currentSite.path),n()}u&&!o.fetch?m(document):(t.isLoading=!0,fetch(c).then((t=>t.text&&t.text())).then((t=>{m((new DOMParser).parseFromString(t,"text/html")),e()})).catch((()=>{})))}function a(){"menu"===o.active&&0===t.entriesMenu.length&&u({network:!1,adminUrl:t.data.adminUrl}),"networkMenu"===o.active&&0===t.entriesNetworkMenu.length&&u({network:!0})}function s(e){return t.isMac?e.metaKey:e.ctrlKey}function c(t){var e;return i("button",{onMouseDown:t=>t.preventDefault(),class:`focus-white opacity-0 flex h-full items-center justify-center group hover:opacity-100 focus:opacity-100 focus-within:opacity-100 hover:text-blue-500 focus:text-blue-500 focus-within:text-blue-500 hover:z-50 ${null!==(e=t.classOuter)&&void 0!==e?e:""}`},i(r,null),i("div",{class:"z-50 border border-slate-200 shadow absolute transform bottom-0 right-0 translate-y-[calc(100%-1px)] opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto focus-within:opacity-100 focus-within:pointer-events-auto"},t.items.map((t=>(null==t?void 0:t.text)&&i("button",{onMouseDown:t=>t.preventDefault(),class:"text-left w-full bg-white focus-white px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-900 hover:text-blue-500",onClick:()=>{t.onClick()}},t.text)))))}export{c as D,s as a,u as b,a as g}